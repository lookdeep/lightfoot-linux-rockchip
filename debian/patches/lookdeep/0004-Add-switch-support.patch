From: Detlev Casanova <detlev.casanova@collabora.com>
Date: Fri, 6 Jan 2023 10:51:30 -0500
Subject: Add switch support

This is needed for the upcm module

Signed-off-by: Detlev Casanova <detlev.casanova@collabora.com>
---
 drivers/Kconfig       | 2 ++
 drivers/Makefile      | 1 +
 drivers/ks-t1/Kconfig | 1 +
 3 files changed, 4 insertions(+)

diff --git a/drivers/Kconfig b/drivers/Kconfig
index ae82ff3..4c2aa2f 100644
--- a/drivers/Kconfig
+++ b/drivers/Kconfig
@@ -244,6 +244,8 @@ source "drivers/headset_observe/Kconfig"
 
 source "drivers/rknpu/Kconfig"
 
+source "drivers/switch/Kconfig"
+
 source "drivers/ks-t1/Kconfig"
 
 endmenu
diff --git a/drivers/Makefile b/drivers/Makefile
index 749464e..dd7403b 100644
--- a/drivers/Makefile
+++ b/drivers/Makefile
@@ -194,3 +194,4 @@ obj-$(CONFIG_RK_HEADSET)	+= headset_observe/
 obj-$(CONFIG_RK_NAND)		+= rk_nand/
 obj-$(CONFIG_ROCKCHIP_RKNPU)	+= rknpu/
 obj-$(CONFIG_ARCH_ROCKCHIP)	+= ks-t1/
+obj-$(CONFIG_ARCH_ROCKCHIP)	+= switch/
diff --git a/drivers/ks-t1/Kconfig b/drivers/ks-t1/Kconfig
index 87e78ea..ec01331 100644
--- a/drivers/ks-t1/Kconfig
+++ b/drivers/ks-t1/Kconfig
@@ -3,6 +3,7 @@ menu "KS-T1 drivers"
 config ALSA_UPCM
 	bool "ALSA UPCM driver"
 	depends on ARCH_ROCKCHIP
+	select SWITCH
 	default y
 	help
 	  Build the upcm driver for the KS-T1 board
